# A0127570H
###### \java\seedu\task\commons\exceptions\EmptyValueException.java
``` java
public class EmptyValueException extends Exception{

    /**
     * @param message should contain relevant information on the failed constraint(s)
     */
    public EmptyValueException(String message) {
         super(message);
     }
}
```
###### \java\seedu\task\logic\commands\AddCommand.java
``` java
public abstract class AddCommand extends UndoableCommand {
    
    public static final String COMMAND_WORD = "add";
    public static final String MESSAGE_USAGE = COMMAND_WORD + "\n" 
    		+ "Adds a task or event to the task book.\n\n"
    		+ "Adding a task.\n"
            + "Parameters: TASK_NAME /desc DESCRIPTION /by DEADLINE\n"
    		+ "DEADLINE can be in words or MM-DD-YY"
            + "Example: " + COMMAND_WORD
            + " CS2103 Lab 6 /desc hand in through codecrunch /by tomorrow\n\n"
            + " CS2103 Lab 6 /desc hand in through codecrunch /by 12-30-16\n\n"
            + "Adding an event.\n"
            + "Parameters: EVENT_NAME /desc DESCRIPTION /from DURATION\n"
            + "DURATION can be in words or MM-DD-YY"
            + "Example: " + COMMAND_WORD
            + " CS2103 CS2103 Workshop /desc OOP workshop /from tomorrow /to thursday\n"
            + " CS2103 CS2103 Workshop /desc OOP workshop /from 12-1-16 /to 12-7-16\n"
            + " DURATION: Event is assumed to terminate on the same day if a single date is entered";
    
    /**
     * Executes the command and returns the result message.
     * @return feedback message of the operation result for display
     */
    public abstract CommandResult execute();
}
```
###### \java\seedu\task\logic\commands\AddEventCommand.java
``` java
public class AddEventCommand extends AddCommand {

    public static final String MESSAGE_SUCCESS = "New event added: %1$s";
    public static final String MESSAGE_DUPLICATE_EVENT = "This event already exists in the task book";

    private final Event toAddEvent;

    /**
     * Convenience constructor using raw values.

     * @throws IllegalValueException
     *             if any of the raw values are invalid
     */
    public AddEventCommand(String name, String description, String startDuration, String endDuration) throws IllegalValueException {
        
        if (description.isEmpty()) {
            this.toAddEvent = new Event(new Name(name), null, new EventDuration(startDuration, endDuration));
        } else {
            this.toAddEvent = new Event(new Name(name), new Description(description), new EventDuration(startDuration, endDuration));
        }
    }

    public AddEventCommand(ReadOnlyEvent event) {
    	this.toAddEvent = new Event(event);
	}

	@Override
    public CommandResult execute() {
        assert model != null;
        try {
            model.addEvent(toAddEvent);
            return new CommandResult(String.format(MESSAGE_SUCCESS, toAddEvent));
        } catch (UniqueEventList.DuplicateEventException e) {
            return new CommandResult(MESSAGE_DUPLICATE_EVENT);
        }

    }
	
	@Override
	public CommandResult undo() {
		DeleteEventCommand reverseCommand = new DeleteEventCommand(toAddEvent);
		reverseCommand.setData(model);
		
		return reverseCommand.execute();
	}
	
	
	public UndoableCommand prepareUndoCommand() {
		UndoableCommand command = new DeleteEventCommand(toAddEvent);
		
		command.setData(model);
		return command;
	}
	
	@Override
	public String toString() {
		return COMMAND_WORD +" "+ this.toAddEvent.getAsText();
	}
}
```
###### \java\seedu\task\logic\commands\AddTaskCommand.java
``` java
public class AddTaskCommand extends AddCommand {

	public static final String MESSAGE_SUCCESS = "New task added: %1$s";
	public static final String MESSAGE_DUPLICATE_TASK = "This task already exists in the task book";

	private static final Boolean DEFAULT_STATUS = false;

	private final Task toAdd;

	/**
	 * Convenience constructor using raw values.
	 * @throws IllegalValueException
	 *             if any of the raw values are invalid
	 */

	public AddTaskCommand(String name, String description, String deadline) throws IllegalValueException {
	    
	    if (description.isEmpty() && deadline.isEmpty()) {
	        this.toAdd = new Task(new Name(name), null, null, DEFAULT_STATUS);
	    } else if (deadline.isEmpty()) {
	        this.toAdd = new Task(new Name(name), new Description(description), null, DEFAULT_STATUS);
	    } else if (description.isEmpty()) {
            this.toAdd = new Task(new Name(name), null, new Deadline(deadline), DEFAULT_STATUS);
        } else {
            this.toAdd = new Task(new Name(name), new Description(description), new Deadline(deadline), DEFAULT_STATUS);
        }
	}
	
	public AddTaskCommand(ReadOnlyTask t) {
		this.toAdd = new Task(t);
	}

	@Override
	public CommandResult execute() {
		assert model != null;
		try {
			model.addTask(toAdd);
			return new CommandResult(String.format(MESSAGE_SUCCESS, toAdd));
		} catch (UniqueTaskList.DuplicateTaskException e) {
			return new CommandResult(MESSAGE_DUPLICATE_TASK);
		}

	}

	@Override
	public CommandResult undo() {
		DeleteTaskCommand reverseCommand = new DeleteTaskCommand(toAdd);
		reverseCommand.setData(model);
		
		return reverseCommand.execute();
	}
	
	@Override
	public String toString() {
		return COMMAND_WORD +" "+ this.toAdd.getAsText();
	}
	
	

}
```
###### \java\seedu\task\logic\commands\EditCommand.java
``` java
public abstract class EditCommand extends UndoableCommand {

    public static final String COMMAND_WORD = "edit";
    
    public static final String MESSAGE_USAGE = COMMAND_WORD + "\n"
            + "Edits a task or event in the latest displayed list.\n\n"
            + "Editing a task.\n"
            + "Parameters: INDEX [NEW_NAME] [NEW_DESCRIPTION] [NEW_DEADLINE]\n"
            + "Example: "+ COMMAND_WORD + " /t 1 /desc Complete up to pg 24 of notes\n\n"
            + "Editing an event. \n"
            + "Parameters: LIST_TYPE [NEW_NAME] [NEW_DESCRIPTION] [NEW_START_DURATION] [NEW_END_DURATION]\n" 
            + "Example: "+ COMMAND_WORD + " /e 4 /from 7pm tomorrow /to 9pm";
    
    private static int targetIndex; //starts from index 1
    
    /**
     * Executes the command and returns the result message.
     * @return feedback message of the operation result for display
     */
    public abstract CommandResult execute();
    
    public static void setTargetIndex(int index) {
        targetIndex = index;
    }
    
    /**
     * @return targetIndex which has been offset by 1 for use
     */    
    public static int getTargetIndex() {
        return targetIndex - 1;
    }
}
```
###### \java\seedu\task\logic\commands\EditEventCommand.java
``` java
public class EditEventCommand extends EditCommand {

	public static final String MESSAGE_EDIT_EVENT_SUCCESS = "Edited Event: %1$s";
	public static final String MESSAGE_DUPLICATE_EVENT = "This event already exists in the task book";

	private Name newName;
	private Description newDescription;
	private EventDuration newDuration;
	private String newStartDuration;
	private String newEndDuration;

	private Event editEvent;
	private ReadOnlyEvent targetEvent;

	/**
	 * Convenience constructor using raw values. Only fields to be edited will
	 * have values parsed in. Empty string parsed in otherwise.
	 * Gets the event to be edited based on the index. Only fields to be edited
     * will have values updated.
	 * 
	 * @throws IllegalValueException
	 *             if any of the raw values are invalid
	 */
	public EditEventCommand(Integer index, String name, String description, 
	        String startDuration, String endDuration) throws IllegalValueException, IndexOutOfBoundsException {

		setTargetIndex(index);
		newStartDuration = startDuration;
		newEndDuration = endDuration;

		if (!name.isEmpty()) {
			newName = new Name(name);
		}
		if (!description.isEmpty()) {
			newDescription = new Description(description);
		}
		        
	} 

	/**
	 * Executes the editing of the event
	 * 
	 * @throws DuplicateTaskException
	 */
	@Override
	public CommandResult execute() {
		try {
		    UnmodifiableObservableList<ReadOnlyEvent> lastShownList = model.getFilteredEventList();	        
	        targetEvent = lastShownList.get(getTargetIndex());
	        editEvent = editEvent(targetEvent); 		    
		    model.editEvent(editEvent, targetEvent);

			return new CommandResult(String.format(MESSAGE_EDIT_EVENT_SUCCESS, editEvent));

		} catch (UniqueEventList.DuplicateEventException e) {
			return new CommandResult(MESSAGE_DUPLICATE_EVENT);
		} catch (IndexOutOfBoundsException ie) {
			indicateAttemptToExecuteIncorrectCommand();
			return new CommandResult(Messages.MESSAGE_INVALID_EVENT_DISPLAYED_INDEX);
		} catch (IllegalValueException e) {
		    indicateAttemptToExecuteIncorrectCommand();
            return new CommandResult(e.getMessage());
        } 
	}

	/**
	 * Edits the necessary fields.
	 * 
	 * @return event that has the fields according to edit requirements.
	 * @throws IllegalValueException 
	 */
	private Event editEvent(ReadOnlyEvent targetEvent) throws IllegalValueException {
		assert targetEvent != null;
		if (newName == null) {
			newName = targetEvent.getEvent();
		}
		if (newDescription == null) {
			newDescription = targetEvent.getDescription().orElse(null);
		}
		if (newStartDuration.isEmpty() && newEndDuration.isEmpty()) {
			newDuration = targetEvent.getDuration();
		} else {
		    if (newStartDuration.isEmpty()) {
		        newDuration = new EventDuration (targetEvent.getDuration().getStartTimeAsText(), newEndDuration);
		    } else if (newEndDuration.isEmpty()){
		        newDuration = new EventDuration (newStartDuration, targetEvent.getDuration().getEndTimeAsText());
		    } else {
                newDuration = new EventDuration (newStartDuration, newEndDuration);
            }
		}
		return new Event(this.newName, this.newDescription, this.newDuration);
	}

	@Override
	public CommandResult undo() {
		try {
			model.editEvent((Event)targetEvent, editEvent);

			return new CommandResult(String.format(MESSAGE_EDIT_EVENT_SUCCESS, editEvent));
		} catch (UniqueEventList.DuplicateEventException e) {
			return new CommandResult(MESSAGE_DUPLICATE_EVENT);
		} catch (IndexOutOfBoundsException ie) {
			indicateAttemptToExecuteIncorrectCommand();
			return new CommandResult(Messages.MESSAGE_INVALID_EVENT_DISPLAYED_INDEX);
		}
	}

}
```
###### \java\seedu\task\logic\commands\EditTaskCommand.java
``` java
public class EditTaskCommand extends EditCommand  {

    public static final String MESSAGE_EDIT_TASK_SUCCESS = "Edited Task: %1$s";
    private static final Boolean TASK_DEFAULT_STATUS = false;
    public static final String MESSAGE_DUPLICATE_TASK = "This task already exists in the task book";
    
    private Name newName;
    private Description newDescription;
    private Deadline newDeadline;
    
    private Task editTask;
    private ReadOnlyTask targetTask;
    
    /**
     * Convenience constructor using raw values.
     * Only fields to be edited will have values parsed in.
     * TODO: 
     *  1. allow edit tasks with deadline
     *  
     * @throws IllegalValueException
     *             if any of the raw values are invalid
     */
    public EditTaskCommand(Integer index, String name, String description, String deadline) throws IllegalValueException {
        
        setTargetIndex(index);
        
        if (!name.isEmpty()) {
            newName = new Name(name);
        } 
        if (!description.isEmpty()) {
            newDescription = new Description(description);
        }
        if (!deadline.isEmpty()) {
            newDeadline = new Deadline(deadline);
        }
    }
    

	/**
     * Gets the task to be edited based on the index.
     * Only fields to be edited will have values updated.
     * @throws DuplicateTaskException 
     */
    @Override
    public CommandResult execute() {

        try {
            UnmodifiableObservableList<ReadOnlyTask> lastShownList = model.getFilteredTaskList();        
            targetTask = lastShownList.get(getTargetIndex());

            editTask = editTask(targetTask);
            model.editTask(editTask, targetTask);
            
            return new CommandResult(String.format(MESSAGE_EDIT_TASK_SUCCESS, editTask));

        } catch (UniqueTaskList.DuplicateTaskException e) {
            return new CommandResult(MESSAGE_DUPLICATE_TASK);
        } catch (IndexOutOfBoundsException ie) {
            indicateAttemptToExecuteIncorrectCommand();
            return new CommandResult(Messages.MESSAGE_INVALID_TASK_DISPLAYED_INDEX);
        } 
    }

    /**
     * Edits the necessary fields.
     * Assumes task completion status is reinstated to not completed.
     * @return task that has the fields according to edit requirements.
     */    
    private Task editTask(ReadOnlyTask targetTask) {
        
        if (newName == null) {
            newName = targetTask.getTask();
        }
        if (newDescription == null) {
            newDescription = targetTask.getDescription().orElse(null);
        }
        if (newDeadline == null && targetTask.getDeadline().isPresent()) {
            newDeadline = targetTask.getDeadline().get();
        }
        return new Task (this.newName, this.newDescription, this.newDeadline, TASK_DEFAULT_STATUS);        
    }

	@Override
	public CommandResult undo() {
        try {
            model.editTask((Task)targetTask, editTask);
            
            return new CommandResult(String.format(MESSAGE_EDIT_TASK_SUCCESS, editTask));
        } catch (UniqueTaskList.DuplicateTaskException e) {
            return new CommandResult(MESSAGE_DUPLICATE_TASK);
        } catch (IndexOutOfBoundsException ie) {
            indicateAttemptToExecuteIncorrectCommand();
            return new CommandResult(Messages.MESSAGE_INVALID_TASK_DISPLAYED_INDEX);
        } 
	}

	
	@Override
	public String toString() {
		return COMMAND_WORD+ " from " + this.targetTask.getAsText()
		+ " to " + this.editTask.getAsText();
	}

}
```
###### \java\seedu\task\logic\parser\AddParser.java
``` java
public class AddParser implements Parser {
    
    public AddParser() {}
    
    /**
     * Parses arguments in the context of the add task or event command.
     *
     * @param args full command args string
     * @return the prepared command
     */
    @Override
    public Command prepare(String args){
        
        if (args.isEmpty()) {
            return new IncorrectCommand(String.format(MESSAGE_INVALID_COMMAND_FORMAT, AddCommand.MESSAGE_USAGE));
        }
        
        ArgumentTokenizer argsTokenizer = new ArgumentTokenizer(descriptionPrefix, deadlinePrefix, 
                durationStartPrefix, durationEndPrefix);
        argsTokenizer.tokenize(args);
        
        try {           
            String name = argsTokenizer.getPreamble().get();
            Optional <String> description = argsTokenizer.getValue(descriptionPrefix);
            Optional <String> startDuration = argsTokenizer.getValue(durationStartPrefix);
            Optional <String> endDuration = argsTokenizer.getValue(durationEndPrefix);
            Optional <String> deadline = argsTokenizer.getValue(deadlinePrefix);
            
            if (startDuration.isPresent()) { //Only events have duration
                return new AddEventCommand(name, description.orElse(""), startDuration.orElse(""), endDuration.orElse(""));
            } else {
                return new AddTaskCommand(name, description.orElse(""), deadline.orElse(""));             
            }
        } catch (IllegalValueException ive) {
            return new IncorrectCommand(ive.getMessage());
        } catch (NoSuchElementException nsee) {
            return new IncorrectCommand(String.format(MESSAGE_INVALID_COMMAND_FORMAT, AddCommand.MESSAGE_USAGE));
        } catch (EmptyValueException e) {
            return new IncorrectCommand(e.getMessage());
        }
    } 
    
}
```
###### \java\seedu\task\logic\parser\ArgumentTokenizer.java
``` java
    /**
     * Returns last value of given prefix.
     * @throws EmptyValueException  Exception thrown is value is empty string
     */
    public Optional<String> getValue(Prefix prefix) throws EmptyValueException {
        Optional <String> outputValue = getAllValues(prefix).flatMap((values) -> Optional.of(values.get(values.size() - 1)));
        
        if(outputValue.isPresent() && outputValue.get().isEmpty()) {
            throw new EmptyValueException(MESSAGE_EMPTY_VALUE);
        }
        
        return outputValue;
    }
```
###### \java\seedu\task\logic\parser\EditParser.java
``` java
public class EditParser implements Parser {
    
    private static final String INDEX_VALIDATION_REGEX = "[0-9]+";
    
    public EditParser() {}
    
    /**
     * Parses arguments in the context of the edit command.
     *
     * @param args full command args string
     * @return the prepared command
     */
    @Override
    public Command prepare(String args) {
        
        
        if (args.isEmpty()) {
            return new IncorrectCommand(String.format(MESSAGE_INVALID_COMMAND_FORMAT, EditCommand.MESSAGE_USAGE));
        }
        
        ArgumentTokenizer argsTokenizer = new ArgumentTokenizer(descriptionPrefix, deadlinePrefix, 
                durationStartPrefix, durationEndPrefix, taskPrefix, eventPrefix, namePrefix);
       
        argsTokenizer.tokenize(args.trim());
        
        try {           
            Optional <String> taskIndex = argsTokenizer.getValue(taskPrefix);
            Optional <String> eventIndex = argsTokenizer.getValue(eventPrefix);
            Optional <String> name = argsTokenizer.getValue(namePrefix);
            Optional <String> description = argsTokenizer.getValue(descriptionPrefix);
            Optional <String> startDuration = argsTokenizer.getValue(durationStartPrefix);
            Optional <String> endDuration = argsTokenizer.getValue(durationEndPrefix);
            Optional <String> deadline = argsTokenizer.getValue(deadlinePrefix);
            
            if (eventIndex.isPresent()) { 
                int index = getIndex(eventIndex.get().trim());
                return new EditEventCommand(index, name.orElse(""), description.orElse(""), 
                            startDuration.orElse(""), endDuration.orElse(""));                              
            } else if (taskIndex.isPresent()) {  
                int index = getIndex(taskIndex.get().trim());
                return new EditTaskCommand(index, name.orElse(""), description.orElse(""), deadline.orElse(""));             
            } else {
                return new IncorrectCommand(String.format(MESSAGE_INVALID_COMMAND_FORMAT, EditCommand.MESSAGE_USAGE));
            }
        } catch (IllegalValueException ive) {
            return new IncorrectCommand(ive.getMessage());
        } catch (NoSuchElementException nsee) {
            return new IncorrectCommand(String.format(MESSAGE_INVALID_COMMAND_FORMAT, EditCommand.MESSAGE_USAGE));
        } catch (EmptyValueException e) {
            return new IncorrectCommand(e.getMessage());
        } catch (IndexOutOfBoundsException ie) {
            return new IncorrectCommand(Messages.MESSAGE_INVALID_EVENT_DISPLAYED_INDEX);
        }
    }
    
    /**
     * @throws IllegalValueException String index is invalid
     */
    public static int getIndex(String test) throws IllegalValueException {
        if (!(test.trim().matches(INDEX_VALIDATION_REGEX))) {
            throw new IllegalValueException (Messages.MESSAGE_INVALID_EVENT_DISPLAYED_INDEX);
        }
        return Integer.parseInt(test.trim());
    }

}
```
###### \java\seedu\task\logic\parser\Parser.java
``` java
public interface Parser {
    
    public static final Prefix taskPrefix = new Prefix(Flag.taskFlag);  
    public static final Prefix eventPrefix = new Prefix(Flag.eventFlag); 
    public static final Prefix namePrefix = new Prefix(Flag.nameFlag);  
    public static final Prefix descriptionPrefix = new Prefix(Flag.descriptionFlag);
    public static final Prefix deadlinePrefix = new Prefix(Flag.deadlineFlag);
    public static final Prefix durationStartPrefix = new Prefix(Flag.durationStartFlag);
    public static final Prefix durationEndPrefix = new Prefix(Flag.durationEndFlag);  
    public static final Prefix calendarViewWeekPrefix = new Prefix(Flag.calendarWeek);
    public static final Prefix calendarViewDayPrefix = new Prefix(Flag.calendarDay);
    public static final Prefix allPrefix = new Prefix(Flag.allFlag);
    public static final Prefix taskPresencePrefix = new Prefix(Flag.taskPresenceFlag);
    public static final Prefix eventPresencePrefix = new Prefix(Flag.eventPresenceFlag);
    
    /**
     * Prepares the command and returns the prepared Command.
     * @param args The arguments as entered by the user.
     * @return the prepared Command for execution.
     */
    public Command prepare(String args);
}
```
###### \java\seedu\task\model\item\Deadline.java
``` java
public class Deadline implements Comparable<Deadline> {

    public static final String MESSAGE_DEADLINE_CONSTRAINTS = 
    		"Task deadline can be in the following format: \n"
    		+ "DAY HH:MM[:SS], eg: Monday 12:00[:30]\n"
    		+ "M D Y, eg: Oct 12 2016\n"
    		+ "M/D/Y, eg: 01/30/16\n"
    		+ "RELATIVE_DAY TIME, tomorrow 4pm\n";

    private LocalDateTime deadLine; 

    /**
     * Validates given deadline.
     *
     * @throws IllegalValueException if given deadline string is invalid.
     */
    public Deadline(String deadlineArg) throws IllegalValueException {
        assert deadlineArg != null;
        deadlineArg = deadlineArg.trim();
   
        if (deadlineArg.isEmpty()) {
            throw new IllegalValueException(MESSAGE_DEADLINE_CONSTRAINTS);
        }   
        
        try {
        	this.deadLine = StringUtil.parseStringToTime(deadlineArg);
        } catch (IllegalValueException e) {
        	throw new IllegalValueException(MESSAGE_DEADLINE_CONSTRAINTS);
        }
    }


    @Override
    public String toString() {
        return this.deadLine.format(StringUtil.DATE_FORMATTER);
    }

    @Override
	public int hashCode() {
		final int prime = 31;
		int result = 1;
		result = prime * result + ((this.toString() == null) ? 0 : this.toString().hashCode());
		return result;
	}


	@Override
	public boolean equals(Object obj) {
		if (this == obj)
			return true;
		if (obj == null)
			return false;
		if (getClass() != obj.getClass())
			return false;
		
		Deadline other = (Deadline) obj;
		if (deadLine == null) {
			if (other.deadLine != null)
				return false;
		} else if (!this.toString()
				.equals(other.toString())) /*Standardized String to compare for equality */
			return false;
		return true;
	}


	@Override
	public int compareTo(Deadline o) {
		return this.deadLine.compareTo(o.deadLine);
	}

    

}
```
###### \java\seedu\task\model\item\Description.java
``` java
public class Description {
    
    public static final String MESSAGE_DESCRIPTION_CONSTRAINTS = "Task/Event description should be spaces, alphanumeric characters or these symbols .,:$#@%&()_";
    public static final String DESCRIPTION_VALIDATION_REGEX = "[a-zA-Z0-9#\\$\\.\\(\\)%&\\s\\,\\@\\:\\_\\-]+";

    public final String value;

    /**
     * Validates given description.
     *
     * @throws IllegalValueException if given description string is invalid.
     */
    public Description(String description) throws IllegalValueException {
        assert description != null;
        if (!isValidDescription(description)) {
            throw new IllegalValueException(MESSAGE_DESCRIPTION_CONSTRAINTS);
        }
        this.value = description;
    }

    /**
     * Returns true if a given string is a valid description.
     */
    public static boolean isValidDescription(String test) {
        return test.matches(DESCRIPTION_VALIDATION_REGEX);
    }

    @Override
    public String toString() {
        return value;
    }

    @Override
    public boolean equals(Object other) {
        return other == this // short circuit if same object
                || (other instanceof Description // instanceof handles nulls
                && this.value.equals(((Description) other).value)); // state check
    }

    @Override
    public int hashCode() {
        return value.hashCode();
    }

}
```
###### \java\seedu\task\model\item\UniqueEventList.java
``` java
    /**
     * Adds a event to the begining of list.
     *
     * @throws DuplicateEventException if the event to add is a duplicate of an existing event in the list.
     */
    public void add(Event toAdd) throws DuplicateEventException {
    	assert toAdd != null;
        if (contains(toAdd)) {
            throw new DuplicateEventException();
        }
        internalList.add(toAdd);
    }
```
###### \java\seedu\task\model\item\UniqueEventList.java
``` java
    /**
     * Edits an event in the list.
     *
     * @throws DuplicateEventException if the edited event is a duplicate of an existing event in the list.
     */
    public void edit(Event toEdit, ReadOnlyEvent targetEvent) throws UniqueEventList.DuplicateEventException {
        assert toEdit != null && targetEvent != null;
        if (contains(toEdit)) {
            throw new DuplicateEventException();
        }
        int index = internalList.indexOf(targetEvent);
        internalList.set(index, toEdit); 
    }
```
###### \java\seedu\task\model\item\UniqueTaskList.java
``` java
    /**
     * Adds a task to the list at the end.
     *
     * @throws DuplicateTaskException if the task to add is a duplicate of an existing task in the list.
     */
    public void add(Task toAdd) throws DuplicateTaskException {
    	assert toAdd != null;
        if (contains(toAdd)) {
            throw new DuplicateTaskException();
        }
        internalList.add(toAdd);
    }
    
    /**
     * Replaces a task in the list with the edited task.
     *
     * @throws DuplicateTaskException if the task to replaced is a duplicate of an existing task in the list.
     */
    public void edit(Task toEdit, ReadOnlyTask targetTask) throws DuplicateTaskException {
        assert toEdit != null && targetTask != null;
        if (contains(toEdit)) {
            throw new DuplicateTaskException();
        }
        int index = internalList.indexOf(targetTask);
        internalList.set(index, toEdit);
    }
```
###### \java\seedu\task\model\ModelManager.java
``` java

    @Override
    public synchronized void addTask(Task task) throws UniqueTaskList.DuplicateTaskException {
        taskBook.addTask(task);
        updateFilteredTaskListToShowWithStatus(false);
        indicateTaskBookChanged();
    }
    
    @Override
    public synchronized void addEvent(Event event) throws DuplicateEventException {
        taskBook.addEvent(event);
        updateFilteredEventListToShowWithStatus(false);
        indicateTaskBookChanged();
    }
   
    @Override
    public synchronized void editTask(Task editTask, ReadOnlyTask targetTask) throws UniqueTaskList.DuplicateTaskException {
        taskBook.editTask(editTask, targetTask);
        updateFilteredTaskListToShowWithStatus(false);
        indicateTaskBookChanged();   
    }
    
    @Override
    public void editEvent(Event editEvent, ReadOnlyEvent targetEvent) throws UniqueEventList.DuplicateEventException {
        taskBook.editEvent(editEvent, targetEvent);
        updateFilteredEventListToShowWithStatus(false);
        indicateTaskBookChanged(); 
    }
```
###### \java\seedu\task\model\TaskBook.java
``` java
    /**
     * Adds an event to the task book.
     *
     * @throws UniqueEventList.DuplicateEventException if an equivalent event already exists.
     */
    public void addEvent(Event p) throws UniqueEventList.DuplicateEventException {
        events.add(p);
    }
    
```
###### \java\seedu\task\model\TaskBook.java
``` java
    
    /**
     * Edits an event in the task book.
     *
     * @throws UniqueEventList.DuplicateEventException if an equivalent event already exists.
     */
    public void editEvent(Event editEvent, ReadOnlyEvent targetEvent) throws UniqueEventList.DuplicateEventException {
        events.edit(editEvent, targetEvent);
        
    }
    
//// task-level operations

    /**
     * Adds a task to the task book.
     *
     * @throws UniqueTaskList.DuplicateTaskException if an equivalent task already exists.
     */
    public void addTask(Task p) throws UniqueTaskList.DuplicateTaskException {
        tasks.add(p);;
    }

```
###### \java\seedu\task\model\TaskBook.java
``` java
    
    /**
     * Edits a task in the task book.
     *
     * @throws UniqueTaskList.DuplicateTaskException if an equivalent task already exists.
     */
    public void editTask(Task editTask, ReadOnlyTask targetTask) throws UniqueTaskList.DuplicateTaskException {
        tasks.edit(editTask, targetTask);
    }
```
###### \java\seedu\task\storage\XmlAdaptedEvent.java
``` java
    /**
     * Converts a given event into this class for JAXB use.
     *
     * @param source future changes to this will not affect the created XmlAdaptedEvent
     */
    public XmlAdaptedEvent(ReadOnlyEvent source) {
        name = source.getEvent().fullName;
        description = source.getDescriptionValue();
        startDuration = source.getDuration().getStartTimeAsText();
        endDuration = source.getDuration().getEndTimeAsText();
    }

    /**
     * Converts this jaxb-friendly adapted event object into the model's Event object.
     *
     * @throws IllegalValueException if there were any data constraints violated in the adapted event
     */
    public Event toModelType() throws IllegalValueException {

        final Name name = new Name(this.name);
        final Description description = this.description.isEmpty()? null : new Description(this.description);
        final EventDuration eventDuration = new EventDuration(this.startDuration, this.endDuration);
        
        return new Event(name, description, eventDuration);
    }
    
}
```
###### \java\seedu\task\storage\XmlAdaptedTask.java
``` java
    /**
     * Converts a given task into this class for JAXB use.
     *
     * @param source future changes to this will not affect the created XmlAdaptedTask
     */
    public XmlAdaptedTask(ReadOnlyTask source) {
        name = source.getTask().fullName;
        description = source.getDescriptionValue();
        status = source.getTaskStatus();
        deadline = source.getDeadlineValue();
    }

    /**
     * Converts this jaxb-friendly adapted task object into the model's Task object.
     * 	- if a description or deadline is a string, make it null.
     * @throws IllegalValueException if there were any data constraints violated in the adapted task
     */
    public Task toModelType() throws IllegalValueException {

        final Name name = new Name(this.name);
        final Description description = this.description.isEmpty()? null : new Description(this.description);
        final Deadline deadline = this.deadline.isEmpty()? null : new Deadline(this.deadline);
        final Boolean status = new Boolean(this.status);
        
        return new Task(name, description, deadline, status);
    }
}
```
###### \java\seedu\task\ui\EventCard.java
``` java
    @FXML
    public void initialize() {
        name.setText(event.getNameWithStatus());
        index.setText(displayedIndex + ". ");
        description.setText(event.getDescriptionValue());
        duration.setText(event.getDuration().toString());
        setCompletionBackgroundText();
    }

```
###### \java\seedu\task\ui\EventCard.java
``` java
    //Adds the lavender colour to the background if the task status is completed
    private void setCompletionBackgroundText() {
        if (event.isEventCompleted()) {
            cardPane.getStyleClass().add("status-complete");
        }
    }

    public HBox getLayout() {
        return cardPane;
    }

    @Override
    public void setNode(Node node) {
        cardPane = (HBox)node;
    }

    @Override
    public String getFxmlPath() {
        return FXML;
    }
}
```
###### \java\seedu\task\ui\TaskCard.java
``` java
    @FXML
    public void initialize() {
        name.setText(task.getNameWithStatus());
        index.setText(displayedIndex + ". ");
        description.setText(task.getDescriptionToString().trim());
        deadline.setText(task.getDeadlineToString().trim());   
        setCompletionBackgroundText();
    }

```
###### \java\seedu\task\ui\TaskCard.java
``` java
    //Adds the lavender colour to the background if the task status is completed
    private void setCompletionBackgroundText() {
        if (task.getTaskStatus()) {
            cardPane.getStyleClass().add("status-complete");
        }
    }


    public HBox getLayout() {
        return cardPane;
    }

    @Override
    public void setNode(Node node) {
        cardPane = (HBox)node;
    }

    @Override
    public String getFxmlPath() {
        return FXML;
    }
}
```
